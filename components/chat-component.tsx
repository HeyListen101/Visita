"use client";

import { useState, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { createClient } from '@/utils/supabase/client';

const supabase = createClient();

export default function ChatToggle() {
  const [showChat, setShowChat] = useState(false);
  const [chats, setChats] = useState<{ id: number; message: string; user: string }[]>([]);

  useEffect(() => {
    if (showChat) {
      fetchChats();
    }
  }, [showChat]);

  const fetchChats = async () => {
    const { data, error } = await supabase
      .from("chats")
      .select("id, message, user")
      .order("created_at", { ascending: true });

    if (error) {
      console.log("Error fetching chats:", error);
    } else {
      setChats(data || []);
    }
  };

  return (
    <div className="fixed bottom-5 left-3 flex items-center space-x-2 z-10">
      <Button variant="chat" onClick={() => setShowChat(!showChat)}>
        {showChat ? (
          <svg width="142" height="13" viewBox="0 0 90 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.935 6.4C0.935 5.30133 1.18033 4.32 1.671 3.456C2.17233 2.58133 2.84967 1.904 3.703 1.424C4.567 0.933333 5.53233 0.688 6.599 0.688C7.847 0.688 8.94033 1.008 9.879 1.648C10.8177 2.288 11.4737 3.17333 11.847 4.304H9.271C9.015 3.77067 8.65233 3.37067 8.183 3.104C7.72433 2.83733 7.191 2.704 6.583 2.704C5.93233 2.704 5.351 2.85867 4.839 3.168C4.33767 3.46667 3.943 3.89333 3.655 4.448C3.37767 5.00267 3.239 5.65333 3.239 6.4C3.239 7.136 3.37767 7.78667 3.655 8.352C3.943 8.90667 4.33767 9.33867 4.839 9.648C5.351 9.94667 5.93233 10.096 6.583 10.096C7.191 10.096 7.72433 9.96267 8.183 9.696C8.65233 9.41867 9.015 9.01333 9.271 8.48H11.847C11.4737 9.62133 10.8177 10.512 9.879 11.152C8.951 11.7813 7.85767 12.096 6.599 12.096C5.53233 12.096 4.567 11.856 3.703 11.376C2.84967 10.8853 2.17233 10.208 1.671 9.344C1.18033 8.48 0.935 7.49867 0.935 6.4ZM16.0003 0.16V12H13.7603V0.16H16.0003ZM22.1494 12.144C21.296 12.144 20.528 11.9573 19.8454 11.584C19.1627 11.2 18.624 10.6613 18.2294 9.968C17.8454 9.27467 17.6534 8.47467 17.6534 7.568C17.6534 6.66133 17.8507 5.86133 18.2454 5.168C18.6507 4.47467 19.2 3.94133 19.8934 3.568C20.5867 3.184 21.36 2.992 22.2134 2.992C23.0667 2.992 23.84 3.184 24.5334 3.568C25.2267 3.94133 25.7707 4.47467 26.1654 5.168C26.5707 5.86133 26.7734 6.66133 26.7734 7.568C26.7734 8.47467 26.5654 9.27467 26.1494 9.968C25.744 10.6613 25.1894 11.2 24.4854 11.584C23.792 11.9573 23.0134 12.144 22.1494 12.144ZM22.1494 10.192C22.5547 10.192 22.9334 10.096 23.2854 9.904C23.648 9.70133 23.936 9.40267 24.1494 9.008C24.3627 8.61333 24.4694 8.13333 24.4694 7.568C24.4694 6.72533 24.2454 6.08 23.7974 5.632C23.36 5.17333 22.8214 4.944 22.1814 4.944C21.5414 4.944 21.0027 5.17333 20.5654 5.632C20.1387 6.08 19.9254 6.72533 19.9254 7.568C19.9254 8.41067 20.1334 9.06133 20.5494 9.52C20.976 9.968 21.5094 10.192 22.1494 10.192ZM31.8085 12.144C31.0832 12.144 30.4325 12.016 29.8565 11.76C29.2805 11.4933 28.8218 11.136 28.4805 10.688C28.1498 10.24 27.9685 9.744 27.9365 9.2H30.1925C30.2352 9.54133 30.4005 9.824 30.6885 10.048C30.9872 10.272 31.3552 10.384 31.7925 10.384C32.2192 10.384 32.5498 10.2987 32.7845 10.128C33.0298 9.95733 33.1525 9.73867 33.1525 9.472C33.1525 9.184 33.0032 8.97067 32.7045 8.832C32.4165 8.68267 31.9525 8.52267 31.3125 8.352C30.6512 8.192 30.1072 8.02667 29.6805 7.856C29.2645 7.68533 28.9018 7.424 28.5925 7.072C28.2938 6.72 28.1445 6.24533 28.1445 5.648C28.1445 5.15733 28.2832 4.70933 28.5605 4.304C28.8485 3.89867 29.2538 3.57867 29.7765 3.344C30.3098 3.10933 30.9338 2.992 31.6485 2.992C32.7045 2.992 33.5472 3.25867 34.1765 3.792C34.8058 4.31467 35.1525 5.024 35.2165 5.92H33.0725C33.0405 5.568 32.8912 5.29067 32.6245 5.088C32.3685 4.87467 32.0218 4.768 31.5845 4.768C31.1792 4.768 30.8645 4.84267 30.6405 4.992C30.4272 5.14133 30.3205 5.34933 30.3205 5.616C30.3205 5.91467 30.4698 6.144 30.7685 6.304C31.0672 6.45333 31.5312 6.608 32.1605 6.768C32.8005 6.928 33.3285 7.09333 33.7445 7.264C34.1605 7.43467 34.5178 7.70133 34.8165 8.064C35.1258 8.416 35.2858 8.88533 35.2965 9.472C35.2965 9.984 35.1525 10.4427 34.8645 10.848C34.5872 11.2533 34.1818 11.5733 33.6485 11.808C33.1258 12.032 32.5125 12.144 31.8085 12.144ZM45.3753 7.376C45.3753 7.696 45.3539 7.984 45.3113 8.24H38.8313C38.8846 8.88 39.1086 9.38133 39.5033 9.744C39.8979 10.1067 40.3833 10.288 40.9593 10.288C41.7913 10.288 42.3833 9.93067 42.7353 9.216H45.1513C44.8953 10.0693 44.4046 10.7733 43.6793 11.328C42.9539 11.872 42.0633 12.144 41.0073 12.144C40.1539 12.144 39.3859 11.9573 38.7033 11.584C38.0313 11.2 37.5033 10.6613 37.1193 9.968C36.7459 9.27467 36.5592 8.47467 36.5592 7.568C36.5592 6.65067 36.7459 5.84533 37.1193 5.152C37.4926 4.45867 38.0153 3.92533 38.6873 3.552C39.3593 3.17867 40.1326 2.992 41.0073 2.992C41.8499 2.992 42.6019 3.17333 43.2633 3.536C43.9353 3.89867 44.4526 4.416 44.8153 5.088C45.1886 5.74933 45.3753 6.512 45.3753 7.376ZM43.0553 6.736C43.0446 6.16 42.8366 5.70133 42.4313 5.36C42.0259 5.008 41.5299 4.832 40.9433 4.832C40.3886 4.832 39.9193 5.00267 39.5353 5.344C39.1619 5.67467 38.9326 6.13867 38.8473 6.736H43.0553ZM50.2788 6.4C50.2788 5.30133 50.5241 4.32 51.0148 3.456C51.5161 2.58133 52.1934 1.904 53.0468 1.424C53.9108 0.933333 54.8761 0.688 55.9428 0.688C57.1908 0.688 58.2841 1.008 59.2228 1.648C60.1614 2.288 60.8174 3.17333 61.1908 4.304H58.6148C58.3588 3.77067 57.9961 3.37067 57.5268 3.104C57.0681 2.83733 56.5348 2.704 55.9268 2.704C55.2761 2.704 54.6948 2.85867 54.1828 3.168C53.6814 3.46667 53.2868 3.89333 52.9988 4.448C52.7214 5.00267 52.5828 5.65333 52.5828 6.4C52.5828 7.136 52.7214 7.78667 52.9988 8.352C53.2868 8.90667 53.6814 9.33867 54.1828 9.648C54.6948 9.94667 55.2761 10.096 55.9268 10.096C56.5348 10.096 57.0681 9.96267 57.5268 9.696C57.9961 9.41867 58.3588 9.01333 58.6148 8.48H61.1908C60.8174 9.62133 60.1614 10.512 59.2228 11.152C58.2948 11.7813 57.2014 12.096 55.9428 12.096C54.8761 12.096 53.9108 11.856 53.0468 11.376C52.1934 10.8853 51.5161 10.208 51.0148 9.344C50.5241 8.48 50.2788 7.49867 50.2788 6.4ZM68.096 3.008C68.768 3.008 69.3653 3.15733 69.888 3.456C70.4107 3.744 70.816 4.176 71.104 4.752C71.4027 5.31733 71.552 6 71.552 6.8V12H69.312V7.104C69.312 6.4 69.136 5.86133 68.784 5.488C68.432 5.104 67.952 4.912 67.344 4.912C66.7253 4.912 66.2347 5.104 65.872 5.488C65.52 5.86133 65.344 6.4 65.344 7.104V12H63.104V0.16H65.344V4.24C65.632 3.856 66.016 3.55733 66.496 3.344C66.976 3.12 67.5093 3.008 68.096 3.008ZM73.1061 7.536C73.1061 6.64 73.2821 5.84533 73.6341 5.152C73.9968 4.45867 74.4821 3.92533 75.0901 3.552C75.7088 3.17867 76.3968 2.992 77.1541 2.992C77.8155 2.992 78.3915 3.12533 78.8821 3.392C79.3835 3.65867 79.7835 3.99467 80.0821 4.4V3.136H82.3381V12H80.0821V10.704C79.7941 11.12 79.3941 11.4667 78.8821 11.744C78.3808 12.0107 77.7995 12.144 77.1381 12.144C76.3915 12.144 75.7088 11.952 75.0901 11.568C74.4821 11.184 73.9968 10.6453 73.6341 9.952C73.2821 9.248 73.1061 8.44267 73.1061 7.536ZM80.0821 7.568C80.0821 7.024 79.9755 6.56 79.7621 6.176C79.5488 5.78133 79.2608 5.48267 78.8981 5.28C78.5355 5.06667 78.1461 4.96 77.7301 4.96C77.3141 4.96 76.9301 5.06133 76.5781 5.264C76.2261 5.46667 75.9381 5.76533 75.7141 6.16C75.5008 6.544 75.3941 7.00267 75.3941 7.536C75.3941 8.06933 75.5008 8.53867 75.7141 8.944C75.9381 9.33867 76.2261 9.64267 76.5781 9.856C76.9408 10.0693 77.3248 10.176 77.7301 10.176C78.1461 10.176 78.5355 10.0747 78.8981 9.872C79.2608 9.65867 79.5488 9.36 79.7621 8.976C79.9755 8.58133 80.0821 8.112 80.0821 7.568ZM87.1339 4.976V9.264C87.1339 9.56267 87.2032 9.78133 87.3419 9.92C87.4912 10.048 87.7365 10.112 88.0779 10.112H89.1179V12H87.7099C85.8219 12 84.8779 11.0827 84.8779 9.248V4.976H83.8219V3.136H84.8779V0.943999H87.1339V3.136H89.1179V4.976H87.1339Z" fill="#1E1C14"/>
          </svg>       
        ) : (
          <svg width="142" height="18" viewBox="0 0 142 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.942813 7.4C0.942813 6.30133 1.18815 5.32 1.67881 4.456C2.18015 3.58133 2.85748 2.904 3.71081 2.424C4.57481 1.93333 5.54015 1.688 6.60681 1.688C7.85481 1.688 8.94815 2.008 9.88681 2.648C10.8255 3.288 11.4815 4.17333 11.8548 5.304H9.27881C9.02281 4.77067 8.66015 4.37067 8.19081 4.104C7.73215 3.83733 7.19881 3.704 6.59081 3.704C5.94015 3.704 5.35881 3.85867 4.84681 4.168C4.34548 4.46667 3.95081 4.89333 3.66281 5.448C3.38548 6.00267 3.24681 6.65333 3.24681 7.4C3.24681 8.136 3.38548 8.78667 3.66281 9.352C3.95081 9.90667 4.34548 10.3387 4.84681 10.648C5.35881 10.9467 5.94015 11.096 6.59081 11.096C7.19881 11.096 7.73215 10.9627 8.19081 10.696C8.66015 10.4187 9.02281 10.0133 9.27881 9.48H11.8548C11.4815 10.6213 10.8255 11.512 9.88681 12.152C8.95881 12.7813 7.86548 13.096 6.60681 13.096C5.54015 13.096 4.57481 12.856 3.71081 12.376C2.85748 11.8853 2.18015 11.208 1.67881 10.344C1.18815 9.48 0.942813 8.49867 0.942813 7.4ZM17.7041 13.144C16.8507 13.144 16.0827 12.9573 15.4001 12.584C14.7174 12.2 14.1787 11.6613 13.7841 10.968C13.4001 10.2747 13.2081 9.47467 13.2081 8.568C13.2081 7.66133 13.4054 6.86133 13.8001 6.168C14.2054 5.47467 14.7547 4.94133 15.4481 4.568C16.1414 4.184 16.9147 3.992 17.7681 3.992C18.6214 3.992 19.3947 4.184 20.0881 4.568C20.7814 4.94133 21.3254 5.47467 21.7201 6.168C22.1254 6.86133 22.3281 7.66133 22.3281 8.568C22.3281 9.47467 22.1201 10.2747 21.7041 10.968C21.2987 11.6613 20.7441 12.2 20.0401 12.584C19.3467 12.9573 18.5681 13.144 17.7041 13.144ZM17.7041 11.192C18.1094 11.192 18.4881 11.096 18.8401 10.904C19.2027 10.7013 19.4907 10.4027 19.7041 10.008C19.9174 9.61333 20.0241 9.13333 20.0241 8.568C20.0241 7.72533 19.8001 7.08 19.3521 6.632C18.9147 6.17333 18.3761 5.944 17.7361 5.944C17.0961 5.944 16.5574 6.17333 16.1201 6.632C15.6934 7.08 15.4801 7.72533 15.4801 8.568C15.4801 9.41067 15.6881 10.0613 16.1041 10.52C16.5307 10.968 17.0641 11.192 17.7041 11.192ZM34.9792 4.008C36.0672 4.008 36.9419 4.344 37.6032 5.016C38.2752 5.67733 38.6112 6.60533 38.6112 7.8V13H36.3712V8.104C36.3712 7.41067 36.1952 6.88267 35.8432 6.52C35.4912 6.14667 35.0112 5.96 34.4032 5.96C33.7952 5.96 33.3099 6.14667 32.9472 6.52C32.5952 6.88267 32.4192 7.41067 32.4192 8.104V13H30.1792V8.104C30.1792 7.41067 30.0032 6.88267 29.6512 6.52C29.2992 6.14667 28.8192 5.96 28.2112 5.96C27.5925 5.96 27.1019 6.14667 26.7392 6.52C26.3872 6.88267 26.2112 7.41067 26.2112 8.104V13H23.9712V4.136H26.2112V5.208C26.4992 4.83467 26.8672 4.54133 27.3152 4.328C27.7739 4.11467 28.2752 4.008 28.8192 4.008C29.5125 4.008 30.1312 4.15733 30.6752 4.456C31.2192 4.744 31.6405 5.16 31.9392 5.704C32.2272 5.192 32.6432 4.78133 33.1872 4.472C33.7419 4.16267 34.3392 4.008 34.9792 4.008ZM51.7448 4.008C52.8328 4.008 53.7075 4.344 54.3688 5.016C55.0408 5.67733 55.3768 6.60533 55.3768 7.8V13H53.1368V8.104C53.1368 7.41067 52.9608 6.88267 52.6088 6.52C52.2568 6.14667 51.7768 5.96 51.1688 5.96C50.5608 5.96 50.0755 6.14667 49.7128 6.52C49.3608 6.88267 49.1848 7.41067 49.1848 8.104V13H46.9448V8.104C46.9448 7.41067 46.7688 6.88267 46.4168 6.52C46.0648 6.14667 45.5848 5.96 44.9768 5.96C44.3581 5.96 43.8675 6.14667 43.5048 6.52C43.1528 6.88267 42.9768 7.41067 42.9768 8.104V13H40.7368V4.136H42.9768V5.208C43.2648 4.83467 43.6328 4.54133 44.0808 4.328C44.5395 4.11467 45.0408 4.008 45.5848 4.008C46.2781 4.008 46.8968 4.15733 47.4408 4.456C47.9848 4.744 48.4061 5.16 48.7048 5.704C48.9928 5.192 49.4088 4.78133 49.9528 4.472C50.5075 4.16267 51.1048 4.008 51.7448 4.008ZM65.8704 4.136V13H63.6144V11.88C63.3264 12.264 62.9478 12.568 62.4784 12.792C62.0198 13.0053 61.5184 13.112 60.9744 13.112C60.2811 13.112 59.6678 12.968 59.1344 12.68C58.6011 12.3813 58.1798 11.9493 57.8704 11.384C57.5718 10.808 57.4224 10.1253 57.4224 9.336V4.136H59.6624V9.016C59.6624 9.72 59.8384 10.264 60.1904 10.648C60.5424 11.0213 61.0224 11.208 61.6304 11.208C62.2491 11.208 62.7344 11.0213 63.0864 10.648C63.4384 10.264 63.6144 9.72 63.6144 9.016V4.136H65.8704ZM72.9926 4.008C74.0486 4.008 74.9019 4.344 75.5526 5.016C76.2032 5.67733 76.5286 6.60533 76.5286 7.8V13H74.2886V8.104C74.2886 7.4 74.1126 6.86133 73.7606 6.488C73.4086 6.104 72.9286 5.912 72.3206 5.912C71.7019 5.912 71.2112 6.104 70.8486 6.488C70.4966 6.86133 70.3206 7.4 70.3206 8.104V13H68.0806V4.136H70.3206V5.24C70.6192 4.856 70.9979 4.55733 71.4566 4.344C71.9259 4.12 72.4379 4.008 72.9926 4.008ZM79.7947 3.08C79.4 3.08 79.0694 2.95733 78.8027 2.712C78.5467 2.456 78.4187 2.14133 78.4187 1.768C78.4187 1.39467 78.5467 1.08533 78.8027 0.839999C79.0694 0.583999 79.4 0.455999 79.7947 0.455999C80.1894 0.455999 80.5147 0.583999 80.7707 0.839999C81.0374 1.08533 81.1707 1.39467 81.1707 1.768C81.1707 2.14133 81.0374 2.456 80.7707 2.712C80.5147 2.95733 80.1894 3.08 79.7947 3.08ZM80.8987 4.136V13H78.6587V4.136H80.8987ZM85.7198 5.976V10.264C85.7198 10.5627 85.7891 10.7813 85.9278 10.92C86.0771 11.048 86.3225 11.112 86.6638 11.112H87.7038V13H86.2958C84.4078 13 83.4638 12.0827 83.4638 10.248V5.976H82.4078V4.136H83.4638V1.944H85.7198V4.136H87.7038V5.976H85.7198ZM97.7949 4.136L92.3069 17.192H89.9229L91.8429 12.776L88.2909 4.136H90.8029L93.0909 10.328L95.4109 4.136H97.7949ZM102.271 7.4C102.271 6.30133 102.516 5.32 103.007 4.456C103.508 3.58133 104.186 2.904 105.039 2.424C105.903 1.93333 106.868 1.688 107.935 1.688C109.183 1.688 110.276 2.008 111.215 2.648C112.154 3.288 112.81 4.17333 113.183 5.304H110.607C110.351 4.77067 109.988 4.37067 109.519 4.104C109.06 3.83733 108.527 3.704 107.919 3.704C107.268 3.704 106.687 3.85867 106.175 4.168C105.674 4.46667 105.279 4.89333 104.991 5.448C104.714 6.00267 104.575 6.65333 104.575 7.4C104.575 8.136 104.714 8.78667 104.991 9.352C105.279 9.90667 105.674 10.3387 106.175 10.648C106.687 10.9467 107.268 11.096 107.919 11.096C108.527 11.096 109.06 10.9627 109.519 10.696C109.988 10.4187 110.351 10.0133 110.607 9.48H113.183C112.81 10.6213 112.154 11.512 111.215 12.152C110.287 12.7813 109.194 13.096 107.935 13.096C106.868 13.096 105.903 12.856 105.039 12.376C104.186 11.8853 103.508 11.208 103.007 10.344C102.516 9.48 102.271 8.49867 102.271 7.4ZM120.088 4.008C120.76 4.008 121.358 4.15733 121.88 4.456C122.403 4.744 122.808 5.176 123.096 5.752C123.395 6.31733 123.544 7 123.544 7.8V13H121.304V8.104C121.304 7.4 121.128 6.86133 120.776 6.488C120.424 6.104 119.944 5.912 119.336 5.912C118.718 5.912 118.227 6.104 117.864 6.488C117.512 6.86133 117.336 7.4 117.336 8.104V13H115.096V1.16H117.336V5.24C117.624 4.856 118.008 4.55733 118.488 4.344C118.968 4.12 119.502 4.008 120.088 4.008ZM125.098 8.536C125.098 7.64 125.274 6.84533 125.626 6.152C125.989 5.45867 126.474 4.92533 127.082 4.552C127.701 4.17867 128.389 3.992 129.146 3.992C129.808 3.992 130.384 4.12533 130.874 4.392C131.376 4.65867 131.776 4.99467 132.074 5.4V4.136H134.33V13H132.074V11.704C131.786 12.12 131.386 12.4667 130.874 12.744C130.373 13.0107 129.792 13.144 129.13 13.144C128.384 13.144 127.701 12.952 127.082 12.568C126.474 12.184 125.989 11.6453 125.626 10.952C125.274 10.248 125.098 9.44267 125.098 8.536ZM132.074 8.568C132.074 8.024 131.968 7.56 131.754 7.176C131.541 6.78133 131.253 6.48267 130.89 6.28C130.528 6.06667 130.138 5.96 129.722 5.96C129.306 5.96 128.922 6.06133 128.57 6.264C128.218 6.46667 127.93 6.76533 127.706 7.16C127.493 7.544 127.386 8.00267 127.386 8.536C127.386 9.06933 127.493 9.53867 127.706 9.944C127.93 10.3387 128.218 10.6427 128.57 10.856C128.933 11.0693 129.317 11.176 129.722 11.176C130.138 11.176 130.528 11.0747 130.89 10.872C131.253 10.6587 131.541 10.36 131.754 9.976C131.968 9.58133 132.074 9.112 132.074 8.568ZM139.126 5.976V10.264C139.126 10.5627 139.195 10.7813 139.334 10.92C139.483 11.048 139.729 11.112 140.07 11.112H141.11V13H139.702C137.814 13 136.87 12.0827 136.87 10.248V5.976H135.814V4.136H136.87V1.944H139.126V4.136H141.11V5.976H139.126Z" fill="#1E1C14"/>
          </svg>
        )}
      </Button>
      {showChat && (
        <div className="absolute bottom-12 left-0 w-72 p-4 bg-white shadow-lg rounded-md">
          <div className="flex items-center justify-between w-full">
            <svg width="142" height="18" viewBox="0 0 142 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.942813 7.4C0.942813 6.30133 1.18815 5.32 1.67881 4.456C2.18015 3.58133 2.85748 2.904 3.71081 2.424C4.57481 1.93333 5.54015 1.688 6.60681 1.688C7.85481 1.688 8.94815 2.008 9.88681 2.648C10.8255 3.288 11.4815 4.17333 11.8548 5.304H9.27881C9.02281 4.77067 8.66015 4.37067 8.19081 4.104C7.73215 3.83733 7.19881 3.704 6.59081 3.704C5.94015 3.704 5.35881 3.85867 4.84681 4.168C4.34548 4.46667 3.95081 4.89333 3.66281 5.448C3.38548 6.00267 3.24681 6.65333 3.24681 7.4C3.24681 8.136 3.38548 8.78667 3.66281 9.352C3.95081 9.90667 4.34548 10.3387 4.84681 10.648C5.35881 10.9467 5.94015 11.096 6.59081 11.096C7.19881 11.096 7.73215 10.9627 8.19081 10.696C8.66015 10.4187 9.02281 10.0133 9.27881 9.48H11.8548C11.4815 10.6213 10.8255 11.512 9.88681 12.152C8.95881 12.7813 7.86548 13.096 6.60681 13.096C5.54015 13.096 4.57481 12.856 3.71081 12.376C2.85748 11.8853 2.18015 11.208 1.67881 10.344C1.18815 9.48 0.942813 8.49867 0.942813 7.4ZM17.7041 13.144C16.8507 13.144 16.0827 12.9573 15.4001 12.584C14.7174 12.2 14.1787 11.6613 13.7841 10.968C13.4001 10.2747 13.2081 9.47467 13.2081 8.568C13.2081 7.66133 13.4054 6.86133 13.8001 6.168C14.2054 5.47467 14.7547 4.94133 15.4481 4.568C16.1414 4.184 16.9147 3.992 17.7681 3.992C18.6214 3.992 19.3947 4.184 20.0881 4.568C20.7814 4.94133 21.3254 5.47467 21.7201 6.168C22.1254 6.86133 22.3281 7.66133 22.3281 8.568C22.3281 9.47467 22.1201 10.2747 21.7041 10.968C21.2987 11.6613 20.7441 12.2 20.0401 12.584C19.3467 12.9573 18.5681 13.144 17.7041 13.144ZM17.7041 11.192C18.1094 11.192 18.4881 11.096 18.8401 10.904C19.2027 10.7013 19.4907 10.4027 19.7041 10.008C19.9174 9.61333 20.0241 9.13333 20.0241 8.568C20.0241 7.72533 19.8001 7.08 19.3521 6.632C18.9147 6.17333 18.3761 5.944 17.7361 5.944C17.0961 5.944 16.5574 6.17333 16.1201 6.632C15.6934 7.08 15.4801 7.72533 15.4801 8.568C15.4801 9.41067 15.6881 10.0613 16.1041 10.52C16.5307 10.968 17.0641 11.192 17.7041 11.192ZM34.9792 4.008C36.0672 4.008 36.9419 4.344 37.6032 5.016C38.2752 5.67733 38.6112 6.60533 38.6112 7.8V13H36.3712V8.104C36.3712 7.41067 36.1952 6.88267 35.8432 6.52C35.4912 6.14667 35.0112 5.96 34.4032 5.96C33.7952 5.96 33.3099 6.14667 32.9472 6.52C32.5952 6.88267 32.4192 7.41067 32.4192 8.104V13H30.1792V8.104C30.1792 7.41067 30.0032 6.88267 29.6512 6.52C29.2992 6.14667 28.8192 5.96 28.2112 5.96C27.5925 5.96 27.1019 6.14667 26.7392 6.52C26.3872 6.88267 26.2112 7.41067 26.2112 8.104V13H23.9712V4.136H26.2112V5.208C26.4992 4.83467 26.8672 4.54133 27.3152 4.328C27.7739 4.11467 28.2752 4.008 28.8192 4.008C29.5125 4.008 30.1312 4.15733 30.6752 4.456C31.2192 4.744 31.6405 5.16 31.9392 5.704C32.2272 5.192 32.6432 4.78133 33.1872 4.472C33.7419 4.16267 34.3392 4.008 34.9792 4.008ZM51.7448 4.008C52.8328 4.008 53.7075 4.344 54.3688 5.016C55.0408 5.67733 55.3768 6.60533 55.3768 7.8V13H53.1368V8.104C53.1368 7.41067 52.9608 6.88267 52.6088 6.52C52.2568 6.14667 51.7768 5.96 51.1688 5.96C50.5608 5.96 50.0755 6.14667 49.7128 6.52C49.3608 6.88267 49.1848 7.41067 49.1848 8.104V13H46.9448V8.104C46.9448 7.41067 46.7688 6.88267 46.4168 6.52C46.0648 6.14667 45.5848 5.96 44.9768 5.96C44.3581 5.96 43.8675 6.14667 43.5048 6.52C43.1528 6.88267 42.9768 7.41067 42.9768 8.104V13H40.7368V4.136H42.9768V5.208C43.2648 4.83467 43.6328 4.54133 44.0808 4.328C44.5395 4.11467 45.0408 4.008 45.5848 4.008C46.2781 4.008 46.8968 4.15733 47.4408 4.456C47.9848 4.744 48.4061 5.16 48.7048 5.704C48.9928 5.192 49.4088 4.78133 49.9528 4.472C50.5075 4.16267 51.1048 4.008 51.7448 4.008ZM65.8704 4.136V13H63.6144V11.88C63.3264 12.264 62.9478 12.568 62.4784 12.792C62.0198 13.0053 61.5184 13.112 60.9744 13.112C60.2811 13.112 59.6678 12.968 59.1344 12.68C58.6011 12.3813 58.1798 11.9493 57.8704 11.384C57.5718 10.808 57.4224 10.1253 57.4224 9.336V4.136H59.6624V9.016C59.6624 9.72 59.8384 10.264 60.1904 10.648C60.5424 11.0213 61.0224 11.208 61.6304 11.208C62.2491 11.208 62.7344 11.0213 63.0864 10.648C63.4384 10.264 63.6144 9.72 63.6144 9.016V4.136H65.8704ZM72.9926 4.008C74.0486 4.008 74.9019 4.344 75.5526 5.016C76.2032 5.67733 76.5286 6.60533 76.5286 7.8V13H74.2886V8.104C74.2886 7.4 74.1126 6.86133 73.7606 6.488C73.4086 6.104 72.9286 5.912 72.3206 5.912C71.7019 5.912 71.2112 6.104 70.8486 6.488C70.4966 6.86133 70.3206 7.4 70.3206 8.104V13H68.0806V4.136H70.3206V5.24C70.6192 4.856 70.9979 4.55733 71.4566 4.344C71.9259 4.12 72.4379 4.008 72.9926 4.008ZM79.7947 3.08C79.4 3.08 79.0694 2.95733 78.8027 2.712C78.5467 2.456 78.4187 2.14133 78.4187 1.768C78.4187 1.39467 78.5467 1.08533 78.8027 0.839999C79.0694 0.583999 79.4 0.455999 79.7947 0.455999C80.1894 0.455999 80.5147 0.583999 80.7707 0.839999C81.0374 1.08533 81.1707 1.39467 81.1707 1.768C81.1707 2.14133 81.0374 2.456 80.7707 2.712C80.5147 2.95733 80.1894 3.08 79.7947 3.08ZM80.8987 4.136V13H78.6587V4.136H80.8987ZM85.7198 5.976V10.264C85.7198 10.5627 85.7891 10.7813 85.9278 10.92C86.0771 11.048 86.3225 11.112 86.6638 11.112H87.7038V13H86.2958C84.4078 13 83.4638 12.0827 83.4638 10.248V5.976H82.4078V4.136H83.4638V1.944H85.7198V4.136H87.7038V5.976H85.7198ZM97.7949 4.136L92.3069 17.192H89.9229L91.8429 12.776L88.2909 4.136H90.8029L93.0909 10.328L95.4109 4.136H97.7949ZM102.271 7.4C102.271 6.30133 102.516 5.32 103.007 4.456C103.508 3.58133 104.186 2.904 105.039 2.424C105.903 1.93333 106.868 1.688 107.935 1.688C109.183 1.688 110.276 2.008 111.215 2.648C112.154 3.288 112.81 4.17333 113.183 5.304H110.607C110.351 4.77067 109.988 4.37067 109.519 4.104C109.06 3.83733 108.527 3.704 107.919 3.704C107.268 3.704 106.687 3.85867 106.175 4.168C105.674 4.46667 105.279 4.89333 104.991 5.448C104.714 6.00267 104.575 6.65333 104.575 7.4C104.575 8.136 104.714 8.78667 104.991 9.352C105.279 9.90667 105.674 10.3387 106.175 10.648C106.687 10.9467 107.268 11.096 107.919 11.096C108.527 11.096 109.06 10.9627 109.519 10.696C109.988 10.4187 110.351 10.0133 110.607 9.48H113.183C112.81 10.6213 112.154 11.512 111.215 12.152C110.287 12.7813 109.194 13.096 107.935 13.096C106.868 13.096 105.903 12.856 105.039 12.376C104.186 11.8853 103.508 11.208 103.007 10.344C102.516 9.48 102.271 8.49867 102.271 7.4ZM120.088 4.008C120.76 4.008 121.358 4.15733 121.88 4.456C122.403 4.744 122.808 5.176 123.096 5.752C123.395 6.31733 123.544 7 123.544 7.8V13H121.304V8.104C121.304 7.4 121.128 6.86133 120.776 6.488C120.424 6.104 119.944 5.912 119.336 5.912C118.718 5.912 118.227 6.104 117.864 6.488C117.512 6.86133 117.336 7.4 117.336 8.104V13H115.096V1.16H117.336V5.24C117.624 4.856 118.008 4.55733 118.488 4.344C118.968 4.12 119.502 4.008 120.088 4.008ZM125.098 8.536C125.098 7.64 125.274 6.84533 125.626 6.152C125.989 5.45867 126.474 4.92533 127.082 4.552C127.701 4.17867 128.389 3.992 129.146 3.992C129.808 3.992 130.384 4.12533 130.874 4.392C131.376 4.65867 131.776 4.99467 132.074 5.4V4.136H134.33V13H132.074V11.704C131.786 12.12 131.386 12.4667 130.874 12.744C130.373 13.0107 129.792 13.144 129.13 13.144C128.384 13.144 127.701 12.952 127.082 12.568C126.474 12.184 125.989 11.6453 125.626 10.952C125.274 10.248 125.098 9.44267 125.098 8.536ZM132.074 8.568C132.074 8.024 131.968 7.56 131.754 7.176C131.541 6.78133 131.253 6.48267 130.89 6.28C130.528 6.06667 130.138 5.96 129.722 5.96C129.306 5.96 128.922 6.06133 128.57 6.264C128.218 6.46667 127.93 6.76533 127.706 7.16C127.493 7.544 127.386 8.00267 127.386 8.536C127.386 9.06933 127.493 9.53867 127.706 9.944C127.93 10.3387 128.218 10.6427 128.57 10.856C128.933 11.0693 129.317 11.176 129.722 11.176C130.138 11.176 130.528 11.0747 130.89 10.872C131.253 10.6587 131.541 10.36 131.754 9.976C131.968 9.58133 132.074 9.112 132.074 8.568ZM139.126 5.976V10.264C139.126 10.5627 139.195 10.7813 139.334 10.92C139.483 11.048 139.729 11.112 140.07 11.112H141.11V13H139.702C137.814 13 136.87 12.0827 136.87 10.248V5.976H135.814V4.136H136.87V1.944H139.126V4.136H141.11V5.976H139.126Z" fill="#1E1C14"/>
            </svg>
            <button
              className=""
              onClick={() => setShowChat(!showChat)}
            >
              <svg width="12" height="16" viewBox="0 0 12 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.7683 2.64059C12.1215 2.21559 12.0652 1.58434 11.6402 1.23121C11.2152 0.878086 10.584 0.934336 10.2308 1.35934L5.9996 6.43746L1.76834 1.35934C1.41522 0.934336 0.78397 0.878086 0.35897 1.23121C-0.0660299 1.58434 -0.12228 2.21559 0.230845 2.64059L4.69647 7.99996L0.230845 13.3593C-0.12228 13.7843 -0.0660299 14.4156 0.35897 14.7687C0.78397 15.1218 1.41522 15.0656 1.76834 14.6406L5.9996 9.56246L10.2308 14.6406C10.584 15.0656 11.2152 15.1218 11.6402 14.7687C12.0652 14.4156 12.1215 13.7843 11.7683 13.3593L7.30272 7.99996L11.7683 2.64059Z" fill="#7B7B7B"/>
              </svg>
            </button>
          </div>
          <div className="mt-2 space-y-2 max-h-60 overflow-y-auto">
            {chats.length > 0 ? (
              chats.map((chat) => (
                <div key={chat.id} className="p-2 bg-gray-100 rounded-md">
                  <strong>{chat.user}:</strong> {chat.message}
                </div>
              ))
            ) : (
              <p className="text-gray-500">No messages yet!</p>
            )}
          </div>
        </div>
      )}
    </div>
  );
}